# DevOps 개요

## DevOps 정의
- 제품의 변경사항을 품질을 보장함과 동시에 프로덕션에 반영하는데 걸리는 시간을 단축하기 위한 실천 방법의 모음
- 즉, 제품의 변경사항을 시장에 빠르게 전달하기 위한 실천 방법의 모음

### 개발과 운영의 경계를 허물고 통합하고자 하는 문화 혹은 철학

## DevOps 역사
Flickr에서 Dev와 Ops의 협업  
패트릭 디부아의 DevOpsDays

## DevOps가 필요한 이유
설계 - 개발 - 테스트 - 배포 - 운영 - 지원
- 단계 사이사이에 커뮤니케이션 문제 발생
- 개발자가 소프트웨어의 생애주기 중 여러 단계에 참여
- 풀 사이클 개발자(넷플릭스 참고)

## DevOps는 어떻게 하는 것인가?
- 개발과 운영의 벽을 허물어 더 빨리 자주 배포하자
### AWS
#### 지속적 통합(Continuous Integration)
- 개발자가 만든 코드에 대해서 빌드 및 테스트를 진행해본 후 중앙 코드 저장소에 통합 저장함으로써 빠르게 버그를 발견하고 제품의 품질 보장  
#### 지속적 배포(Continuous Delivery)
- 개발 결과물의 산출물을 자동으로 개발 / 운영환경으로 배포하도록 만든 파이프라인  
#### 마이크로 서비스(Micro-services)
- 규모가 있는 서비스의 경우 여러 마이크로 서비스로 쪼개 빌드와 배보 시간을 줄일 수 있다  
#### IaC(Infrastructure as Code)
- 서비스를 배포함에 있어서 인프라에도 변경사항이 있을 수 있는데 이러한 인프라 변경사항을 자동화 시켜 빠르게 적용하기 위해서는 인프라 또한 자동화된 관리가 필요  
#### 모니터링과 로깅(Monitoring & Logging)
- 개발자들에게 이러한 환경 제공 시 개발자들이 제품의 문제 발생 시 빠르게 문제를 해결할 수 있다  
#### 소통 및 협업(Communication & Collaboration)
- 사내에서 사용하는 메신저 시스템, 위키 시스템을 잘 사용하는 것도 중요  

---

# DevOps 엔지니어의 역할

## DevOps vs DevOps 엔지니어
- 데브옵스 엔지니어는 조직에 데브옵스 문화를 정착시키는데 도움을 주는 역할  
- 개발자가 개발 뿐만 아니라 운영에도 참여할 수 있는 환경 제공  
- 운영 환경을 구축하고 제공하는 사람이 데브옵스 엔지니어이다  

## 데브옵스 팀의 업무 도메인
### 문제 단위 분류
#### 네트워크
- 가상 네트워크 및 물리 네트워크 구성
- 프록시 / VPN 서버 운영
- DNS 서버 운영
#### 개발 및 배포 플랫폼
- GitLab / GitHub와 같은 버전관리 및 개발 협읍 플랫폼 운영
- CI / CD 파이프라인 시스템 구축 및 운영
- QA 테스트 및 성능 테스트를 위한 환경 제공
- 패키지 저장소 운영 및 배포 산출물 관리
#### 오케스트레이션 플랫폼
- 쿠버네티스 / ECS / Nomad와 같은 오케스트레이션 시스템 구축 및 운영
- Airflow / Argo Workflows와 같은 워크플로우 엔진 구축 및 운영
#### 관측 플랫폼
- 로그 / 메트릭 / 업타임 / APM 정보를 관측할 수 있는 중앙화된 시스템 구축 및 운영
- 주요 이벤트에 대한 알림 시스템 구축
#### 클라우드 플랫폼
- 개발자들이 활용할 수 있도록 클라우드 환경 운영
#### 보안 플랫폼
- LDAP / AD / SAML 등을 활용하여 통합된 임직원 계정계 운영
- 서버 및 데이터베이스 접근제어 시스템 구축 및 운영
- 네트워크 방화벽 정책 관리
#### 데이터 플랫폼
- MySQL / DynamoDB / Redis와 같은 데이터베이스 구축 및 운영
- RabbitMQ / Kafka / SQS 등과 같은 메시징 서비스 구축 및 운영
- 데이터 웨어하우스 / BI 대시보드 구축 및 운영
#### 서비스 운영
- 개발자들과 협업하여 서비스 공동 운영  
### 행위 단위 분류
1. 구축
1. 설정
1. 운영
1. 사용
1. 교육
1. 문서화

## 데브옵스 팀의 핵심 지표
#### 장애복구 시간, MTTR(Mean Time To Recovery)
- 얼마자 빠르게 장애 상황에서 복구할 수 있는가?
- 장애 상황에서 빠르게 복구하지 못한다면 인프라 자동화, 배포 파이프라인 최적화 필요
#### 변경으로 인한 결함률 (Change Failure Rate)
- 얼마나 자주 변경 사항으로 인하여 장애가 발생하는가?
- 변경으로 인하여 장애가 자주 발생할 시 CI 파이프라인 확인 필요
#### 배포 빈도 (Deployment Frequency)
- 배포를 얼마나 자주하는가?
- 배포 빈도가 굉장히 낮다면 조직내의 문제 확인 필요
#### 변경 적용 소유 시간 (Load Time for Changes)
- 변경사항에 프로덕션 배포에 걸리는 소요 시간은 얼마인가?
